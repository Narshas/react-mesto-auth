{"ast":null,"code":"import _slicedToArray from\"/Users/mark/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{PopupWithForm}from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function EditProfilePopup(_ref){var isLoading=_ref.isLoading,isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userAbout=_React$useState4[0],setUserAbout=_React$useState4[1];var currentUser=React.useContext(CurrentUserContext);React.useEffect(function(){setUserName(currentUser.name);setUserAbout(currentUser.about);},[currentUser]);function handleNameChange(e){setUserName(e.target.value);}function handleAboutChange(e){setUserAbout(e.target.value);}function handleSubmit(e){e.preventDefault();onUpdateUser({name:userName,about:userAbout});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:isOpen,submitText:isLoading?'Сохранение...':'Сохранить',onClose:onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{className:\"popup__label\"}),/*#__PURE__*/_jsx(\"input\",{value:userName||\"\",onChange:handleNameChange,name:\"profilename\",id:\"username-input\",type:\"text\",minLength:\"2\",maxLength:\"40\",className:\"popup__input popup__input_profilename\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error popup__input-error_username-input\",id:\"username-input-error\",children:\"\\u0412 \\u044D\\u0442\\u043E\\u043C \\u043F\\u043E\\u043B\\u0435 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"label\",{className:\"popup__label\"}),/*#__PURE__*/_jsx(\"input\",{value:userAbout||\"\",onChange:handleAboutChange,name:\"profileabout\",id:\"about-input\",type:\"text\",minLength:\"2\",maxLength:\"200\",className:\"popup__input popup__input_profileabout\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error popup__input-error_about-input\",id:\"about-input-error\",children:\"\\u0412 \\u044D\\u0442\\u043E\\u043C \\u043F\\u043E\\u043B\\u0435 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430\"})]});}","map":{"version":3,"names":["React","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","isLoading","isOpen","onClose","onUpdateUser","_React$useState","useState","_React$useState2","_slicedToArray","userName","setUserName","_React$useState3","_React$useState4","userAbout","setUserAbout","currentUser","useContext","useEffect","name","about","handleNameChange","e","target","value","handleAboutChange","handleSubmit","preventDefault","title","submitText","onSubmit","children","className","onChange","id","type","minLength","maxLength","required"],"sources":["/Users/mark/dev/mesto-react/src/components/EditProfilePopup.js"],"sourcesContent":["import React from \"react\";\nimport { PopupWithForm } from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\n\nexport function EditProfilePopup({isLoading, isOpen, onClose, onUpdateUser}) {\n    const [userName, setUserName] = React.useState('');\n    const [userAbout, setUserAbout] = React.useState('');\n    const currentUser = React.useContext(CurrentUserContext);\n\n    React.useEffect(() => {\n        setUserName(currentUser.name);\n        setUserAbout(currentUser.about);\n      }, [currentUser]); \n\n    function handleNameChange(e) {\n        setUserName(e.target.value);\n    }\n\n    function handleAboutChange(e) {\n        setUserAbout(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateUser({\n            name: userName,\n            about: userAbout\n        });\n    }\n\n    return (\n        <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={isOpen} submitText={isLoading ? 'Сохранение...' : 'Сохранить'} onClose={onClose} onSubmit={handleSubmit}>\n                <label className=\"popup__label\"></label>\n                <input value={userName || \"\"} onChange={handleNameChange} name=\"profilename\" id=\"username-input\" type=\"text\" minLength=\"2\" maxLength=\"40\"\n                    className=\"popup__input popup__input_profilename\" required />\n                <span className=\"popup__input-error popup__input-error_username-input\" id=\"username-input-error\">В этом поле\n                    ошибка</span>\n\n                <label className=\"popup__label\"></label>\n                <input value={userAbout || \"\"} onChange={handleAboutChange} name=\"profileabout\" id=\"about-input\" type=\"text\" minLength=\"2\" maxLength=\"200\"\n                    className=\"popup__input popup__input_profileabout\" required />\n                <span className=\"popup__input-error popup__input-error_about-input\" id=\"about-input-error\">В этом поле\n                    ошибка</span>\n            </PopupWithForm>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}