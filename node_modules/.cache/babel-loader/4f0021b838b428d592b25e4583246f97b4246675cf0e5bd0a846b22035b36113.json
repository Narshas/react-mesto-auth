{"ast":null,"code":"import _slicedToArray from\"/Users/mark/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Card}from\"./Card\";import{api}from\"../utils/Api\";import avatarButton from\"../images/Vector.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onCardClick=_ref.onCardClick;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userAbout=_React$useState4[0],setUserAbout=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),elements=_React$useState8[0],setElements=_React$useState8[1];React.useEffect(function(){api.getUserInfo().then(function(_ref2){var name=_ref2.name,about=_ref2.about,avatar=_ref2.avatar;setUserName(name);setUserAbout(about);setUserAvatar(avatar);}).catch(function(err){console.log(err);});},[]);React.useEffect(function(){api.getDefoltElements().then(function(res){setElements(res);}).catch(function(err){console.log(err);});},[]);var elementsList=elements.map(function(element){return/*#__PURE__*/_jsx(Card,{onCardClick:onCardClick,cardData:element},element._id);});return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:userAvatar,alt:\"\\u0444\\u043E\\u0442\\u043E \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",className:\"profile__avatar\"}),/*#__PURE__*/_jsx(\"img\",{src:avatarButton,alt:\"\\u041A\\u043D\\u043E\\u043F\\u043A\\u0430 \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u0430\",className:\"profile__avatar-edit\",onClick:onEditAvatar})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__wraper\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__edit-button\",\"aria-label\":\"\\u0438\\u0441\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",onClick:onEditProfile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__about\",children:userAbout})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__add-button\",\"aria-label\":\"\\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"elements__list\",children:elementsList})})]});}","map":{"version":3,"names":["React","Card","api","avatarButton","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditProfile","onAddPlace","onEditAvatar","onCardClick","_React$useState","useState","_React$useState2","_slicedToArray","userName","setUserName","_React$useState3","_React$useState4","userAbout","setUserAbout","_React$useState5","_React$useState6","userAvatar","setUserAvatar","_React$useState7","_React$useState8","elements","setElements","useEffect","getUserInfo","then","_ref2","name","about","avatar","catch","err","console","log","getDefoltElements","res","elementsList","map","element","cardData","_id","className","children","src","alt","onClick","type"],"sources":["/Users/mark/dev/mesto-react/src/components/Main.js"],"sourcesContent":["import React from \"react\";\nimport { Card } from \"./Card\"\nimport { api } from \"../utils/Api\";\nimport avatarButton from \"../images/Vector.svg\";\n\nexport function Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick }) {\n    const [userName, setUserName] = React.useState('');\n    const [userAbout, setUserAbout] = React.useState('');\n    const [userAvatar, setUserAvatar] = React.useState('');\n    const [elements, setElements] = React.useState([]);\n\n    React.useEffect(() => {\n\n        api.getUserInfo()\n            .then(({ name, about, avatar }) => {\n                setUserName(name);\n                setUserAbout(about);\n                setUserAvatar(avatar);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, []);\n\n    React.useEffect(() => {\n\n        api.getDefoltElements()\n            .then((res) => {\n                setElements(res);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n\n    }, []);\n\n\n\n    const elementsList = elements.map((element) => {\n        return (\n            (<Card key={element._id} onCardClick={onCardClick} cardData={element} />)\n        )\n    });\n\n    return (\n        <main className=\"content\">\n\n            <section className='profile'>\n                <div className='profile__avatar-container'>\n                    <img src={userAvatar} alt=\"фото пользователя\"\n                        className='profile__avatar' />\n                    <img src={avatarButton} alt='Кнопка редактирования аватара'\n                        className='profile__avatar-edit' onClick={onEditAvatar} />\n                </div>\n                <div className=\"profile__info\">\n                    <div className=\"profile__wraper\">\n                        <h1 className=\"profile__name\">{userName}</h1>\n                        <button type=\"button\" className=\"profile__edit-button\" aria-label=\"исправить профиль\" onClick={onEditProfile}></button>\n                    </div>\n                    <p className=\"profile__about\">{userAbout}</p>\n                </div>\n\n                <button type=\"button\" className=\"profile__add-button\" aria-label=\"добавить новое место\" onClick={onAddPlace}></button>\n            </section>\n\n            <section className=\"elements\">\n                <ul className=\"elements__list\">\n                    {elementsList}\n                </ul>\n            </section>\n        </main>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}