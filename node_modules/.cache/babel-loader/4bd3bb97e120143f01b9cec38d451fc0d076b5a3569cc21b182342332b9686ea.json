{"ast":null,"code":"import React from\"react\";import{PopupWithForm}from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar;var currentUser=React.useContext(CurrentUserContext);var avatarRef=React.useRef();React.useEffect(function(){avatarRef.current.value='';},[currentUser]);function handleSubmit(e){e.preventDefault();onUpdateAvatar({avatar:avatarRef.current.value});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"avatar\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",isOpen:isOpen,submitText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",onClose:onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{className:\"popup__label\"}),/*#__PURE__*/_jsx(\"input\",{ref:avatarRef,name:\"avatarurl\",required:true,id:\"avatar-input\",type:\"url\",className:\"popup__input popup__input_avatar\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043D\\u043E\\u0432\\u044B\\u0439 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error popup__input-error_avatar-input\",id:\"avatar-input-error\",children:\"\\u0412 \\u044D\\u0442\\u043E\\u043C \\u043F\\u043E\\u043B\\u0435 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430\"})]});}","map":{"version":3,"names":["React","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditAvatarPopup","_ref","isOpen","onClose","onUpdateAvatar","currentUser","useContext","avatarRef","useRef","useEffect","current","value","handleSubmit","e","preventDefault","avatar","name","title","submitText","onSubmit","children","className","ref","required","id","type","placeholder"],"sources":["/Users/mark/dev/mesto-react/src/components/EditAvatarPopup.js"],"sourcesContent":["import React from \"react\";\nimport { PopupWithForm } from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport function EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const avatarRef = React.useRef();\n    \n    React.useEffect(() => {\n        avatarRef.current.value = ''\n      }, [currentUser]); \n\n    function handleSubmit(e) {\n        e.preventDefault();\n      \n        onUpdateAvatar({\n          avatar: avatarRef.current.value\n        });\n      } \n\n    return (\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={isOpen} submitText=\"Сохранить\" onClose={onClose} onSubmit={handleSubmit}>\n          <label className=\"popup__label\"></label>\n          <input ref={avatarRef} name=\"avatarurl\" required id=\"avatar-input\" type=\"url\" className=\"popup__input popup__input_avatar\"\n            placeholder=\"Ссылка на новый аватар\" />\n          <span className=\"popup__input-error popup__input-error_avatar-input\" id=\"avatar-input-error\">В этом\n            поле ошибка</span>\n        </PopupWithForm>\n    )\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,KAAQ,iBAAiB,CAC/C,OAASC,kBAAkB,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpE,MAAO,SAAS,CAAAC,eAAeA,CAAAC,IAAA,CAAoC,IAAlC,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CAC5D,GAAM,CAAAC,WAAW,CAAGZ,KAAK,CAACa,UAAU,CAACX,kBAAkB,CAAC,CACxD,GAAM,CAAAY,SAAS,CAAGd,KAAK,CAACe,MAAM,CAAC,CAAC,CAEhCf,KAAK,CAACgB,SAAS,CAAC,UAAM,CAClBF,SAAS,CAACG,OAAO,CAACC,KAAK,CAAG,EAAE,CAC9B,CAAC,CAAE,CAACN,WAAW,CAAC,CAAC,CAEnB,QAAS,CAAAO,YAAYA,CAACC,CAAC,CAAE,CACrBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElBV,cAAc,CAAC,CACbW,MAAM,CAAER,SAAS,CAACG,OAAO,CAACC,KAC5B,CAAC,CAAC,CACJ,CAEF,mBACIZ,KAAA,CAACL,aAAa,EAACsB,IAAI,CAAC,QAAQ,CAACC,KAAK,CAAC,uFAAiB,CAACf,MAAM,CAAEA,MAAO,CAACgB,UAAU,CAAC,wDAAW,CAACf,OAAO,CAAEA,OAAQ,CAACgB,QAAQ,CAAEP,YAAa,CAAAQ,QAAA,eACnIvB,IAAA,UAAOwB,SAAS,CAAC,cAAc,CAAQ,CAAC,cACxCxB,IAAA,UAAOyB,GAAG,CAAEf,SAAU,CAACS,IAAI,CAAC,WAAW,CAACO,QAAQ,MAACC,EAAE,CAAC,cAAc,CAACC,IAAI,CAAC,KAAK,CAACJ,SAAS,CAAC,kCAAkC,CACxHK,WAAW,CAAC,uHAAwB,CAAE,CAAC,cACzC7B,IAAA,SAAMwB,SAAS,CAAC,oDAAoD,CAACG,EAAE,CAAC,oBAAoB,CAAAJ,QAAA,CAAC,+FAChF,CAAM,CAAC,EACP,CAAC,CAExB"},"metadata":{},"sourceType":"module","externalDependencies":[]}