{"ast":null,"code":"import _classCallCheck from\"/Users/mark/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/mark/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import React from'react';var Api=/*#__PURE__*/function(){function Api(settings){_classCallCheck(this,Api);this._baseUrl=settings.baseUrl;this._headers=settings.headers;}_createClass(Api,[{key:\"_testRes\",value:function _testRes(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getUserInfo\",value:function getUserInfo(){var _this=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers}).then(function(res){return _this._testRes(res);});}},{key:\"getDefoltElements\",value:function getDefoltElements(){var _this2=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers}).then(function(res){return _this2._testRes(res);});}},{key:\"postNewCard\",value:function postNewCard(cardInfo){var _this3=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:cardInfo.name,link:cardInfo.link})}).then(function(res){return _this3._testRes(res);});}},{key:\"deleteCard\",value:function deleteCard(cardData){var _this4=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardData._id),{method:'DELETE',headers:this._headers}).then(function(res){return _this4._testRes(res);});}},{key:\"patchUserInfo\",value:function patchUserInfo(userData){var _this5=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:userData.name,about:userData.about})}).then(function(res){return _this5._testRes(res);});}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,isLiked){var _this6=this;if(!isLiked){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:'PUT',headers:this._headers}).then(function(res){return _this6._testRes(res);});}else{return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:'DELETE',headers:this._headers}).then(function(res){return _this6._testRes(res);});}}},{key:\"patchAvatar\",value:function patchAvatar(avatarData){var _this7=this;return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatarData.avatarurl})}).then(function(res){return _this7._testRes(res);});}}]);return Api;}();export var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-64',headers:{authorization:'6891c063-8435-431b-87d5-a0d9903b0e56','Content-Type':'application/json'}});","map":{"version":3,"names":["React","Api","settings","_classCallCheck","_baseUrl","baseUrl","_headers","headers","_createClass","key","value","_testRes","res","ok","json","Promise","reject","concat","status","getUserInfo","_this","fetch","then","getDefoltElements","_this2","postNewCard","cardInfo","_this3","method","body","JSON","stringify","name","link","deleteCard","cardData","_this4","_id","patchUserInfo","userData","_this5","about","changeLikeCardStatus","cardId","isLiked","_this6","patchAvatar","avatarData","_this7","avatar","avatarurl","api","authorization"],"sources":["/Users/mark/dev/mesto-react/src/utils/Api.js"],"sourcesContent":["import React from 'react';\n\nclass Api {\n    constructor(settings) {\n        this._baseUrl = settings.baseUrl;\n        this._headers = settings.headers;\n    }\n\n    _testRes(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    getUserInfo() {\n        return fetch(`${this._baseUrl}/users/me`, { headers: this._headers })\n            .then(res => this._testRes(res))\n    }\n\n    getDefoltElements() {\n        return fetch(`${this._baseUrl}/cards`, { headers: this._headers })\n            .then(res => this._testRes(res))\n    }\n\n    postNewCard(cardInfo) {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: cardInfo.name,\n                link: cardInfo.link\n            })\n        })\n            .then(res => this._testRes(res))\n    }\n\n    deleteCard(cardData) {\n        return fetch(`${this._baseUrl}/cards/${cardData._id}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(res => this._testRes(res))\n    }\n\n    patchUserInfo(userData) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: userData.name,\n                about: userData.about\n            })\n        })\n            .then(res => this._testRes(res))\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        if (!isLiked) {\n            return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n                        method: 'PUT',\n                        headers: this._headers\n                    })\n                        .then(res => this._testRes(res))\n        } else {\n            return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n                        method: 'DELETE',\n                        headers: this._headers\n                    })\n                        .then(res => this._testRes(res))\n        }\n    }\n\n    patchAvatar(avatarData) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: avatarData.avatarurl\n            })\n        })\n            .then(res => this._testRes(res))\n    }\n}\n\nexport const api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-64',\n    headers: {\n        authorization: '6891c063-8435-431b-87d5-a0d9903b0e56',\n        'Content-Type': 'application/json'\n    }\n})\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}